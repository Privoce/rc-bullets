(this["webpackJsonprc-bullets-example"]=this["webpackJsonprc-bullets-example"]||[]).push([[0],{41:function(e,t,n){e.exports=n(59)},59:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(26),i=n.n(r),l=n(6);function s(e){var t=e.screen,n=Object(a.useState)(!1),r=Object(l.a)(n,2),i=r[0],s=r[1],c=Object(a.useState)(!0),u=Object(l.a)(c,2),m=u[0],g=u[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:function(){i?t.resume():t.pause(),s(!i)}},i?"\u7ee7\u7eed":"\u6682\u505c"),o.a.createElement("button",{onClick:function(){t.clear()}},"\u6e05\u9664"),o.a.createElement("button",{onClick:function(){m?t.hide():t.show(),g(!m)}},m?"\u9690\u85cf":"\u663e\u793a"),o.a.createElement("section",{style:{height:"100vh"},className:"screen"}))}var c=n(27),u=n(28),m=n(12),g=n(10),p=n(13),d=n(1),h=n.n(d),f=n(14),b=n.n(f),y=n(29);function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var x=function e(t){if(t){var n=document.createElement("style");n.classList.add("BULLET_ANIMATE"),document.head.appendChild(n);var a=t.getBoundingClientRect().width,o="from { visibility: visible; transform: translateX(".concat(a,"px); }");n.sheet.insertRule("@keyframes RightToLeft { ".concat(o," ").concat("to { visibility: visible; transform: translateX(-100%); }"," }"),0),window.onresize=function(){j(document.querySelectorAll(".".concat("BULLET_ANIMATE"))).map((function(e){e.remove()})),e(t)}}},O=function(e){if(null!==(a=e)&&("function"===typeof a||"object"===v(a))){var t=e.msg,n=e.img;return h.a.createElement(h.a.Fragment,null,n&&h.a.createElement("p",{className:"head"},h.a.createElement("img",{src:n,alt:"msg head"})),h.a.createElement("p",{className:"msg"},t))}var a;throw Error("Invalid params")},C=y.a.div.withConfig({displayName:"StyledBullet",componentId:"sc-1ew49p2-0"})(["padding:8px 18px;border:2px solid #fff;border-radius:26px;background-color:",";max-width:40vw;position:relative;box-shadow:0 0 10px rgba(0,0,0,0.5);.msg{font-size:22px;line-height:1.4;color:",";}.head{position:absolute;left:-58px;top:50%;transform:translateY(-50%);width:40px;height:40px;border-radius:50%;border:2px solid #eee;box-shadow:0 0 10px rgba(0,0,0,0.8);img{border-radius:50%;width:100%;height:100%;}&:after{position:absolute;top:50%;right:-14px;transform:translateY(-50%);content:'';display:block;width:8px;height:2px;background:#fff;}}"],(function(e){return e.bgColor}),(function(e){return e.color})),k={animate:"RightToLeft",pauseOnHover:!0,loopCount:1,duration:10,color:"#fff",bgColor:"rgba(2,2,2,.4)",animateTimeFun:"linear"},S=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,"target",null),E(this,"bullets",[]),E(this,"allPaused",!1),E(this,"allHide",!1),"string"===typeof t){if(this.target=document.querySelector(t),!this.target)throw new Error("The display target does not exist")}else{if(!(t instanceof HTMLElement))throw new Error("The display target of the barrage must be set");this.target=t}"static"===getComputedStyle(this.target).position&&(this.target.style.position="relative",this.target.style.overflow="hidden"),x(this.target)}var t,n,a;return t=e,(n=[{key:"push",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,a=Object.assign(k,n),o=a.animate,r=a.duration,i=a.loopCount,l=a.animateTimeFun,s=a.pauseOnHover,c=a.color,u=a.bgColor,m=this.target.getBoundingClientRect(),g=m.height,p=document.createElement("div");p.id=(new Date).getTime(),this.target.appendChild(p),this.bullets.push(p),p.style.transitionProperty="opacity",p.style.transitionDuration="1s",p.style.cursor="pointer",p.style.position="absolute",p.style.left=0,p.style.zIndex=9,p.style.visibility="hidden",p.style.animationName=o,p.style.animationIterationCount=i,p.style.animationDuration="".concat(r,"s"),p.style.animationTimingFunction=l,p.style.willChange="transform",this.allHide&&(p.style.opacity=0),s&&(p.addEventListener("mouseenter",(function(){console.log("enter"),p.style.animationPlayState="paused"}),!1),p.addEventListener("mouseleave",(function(){console.log("leave"),t.allPaused||(p.style.animationPlayState="running")}),!1)),b.a.render(h.a.isValidElement(e)||"string"===typeof e?e:h.a.createElement(C,{color:c,bgColor:u},O(e)),p,(function(){var e=p.getBoundingClientRect().height;p.style.top=Math.random()*(g-e)+"px"})),p.addEventListener("animationend",(function(){t.bullets=t.bullets.filter((function(e){return e.id!==p.id})),b.a.unmountComponentAtNode(p),p.remove()}))}},{key:"pause",value:function(){this.allPaused=!0,this.bullets.forEach((function(e){e.style.animationPlayState="paused"}))}},{key:"resume",value:function(){this.allPaused=!1,this.bullets.forEach((function(e){e.style.animationPlayState="running"}))}},{key:"hide",value:function(){this.allHide=!0,this.bullets.forEach((function(e){e.style.opacity=0}))}},{key:"show",value:function(){this.allHide=!1,this.bullets.forEach((function(e){e.style.opacity=1}))}},{key:"clear",value:function(){this.bullets.forEach((function(e){b.a.unmountComponentAtNode(e),e.remove()}))}}])&&w(t.prototype,n),a&&w(t,a),e}(),P=[{title:"\u5965\u7279\u66fc",path:"assets/img/heads/aotuman.jpg"},{title:"\u718a\u5b69\u5b50",path:"assets/img/heads/bear.jpg"},{title:"\u5361\u901a\u5973\u5b69",path:"assets/img/heads/carton.girl.jpg"},{title:"\u5361\u901a\u7537\u5b69",path:"assets/img/heads/carton.jpg"},{title:"QQ\u5934\u50cf",path:"assets/img/heads/carton2.jpg"},{title:"\u732b\u54aa",path:"assets/img/heads/cat.jpg"},{title:"\u5c0f\u8001\u5f1f",path:"assets/img/heads/dog.jpg"},{title:"\u53ef\u7231",path:"assets/img/heads/girl.jpg"},{title:"\u8721\u7b14\u5c0f\u65b0",path:"assets/img/heads/xiaoxin.jpg"},{title:"\u52a8\u56fe",path:"assets/img/heads/xiongmao.jpg"},{title:"\u7f8e\u5973",path:"assets/img/heads/nv.jpg"},{title:"\u6c14\u8d28\u7f8e\u5973",path:"assets/img/heads/nv2.jpg"}],z={yingbai:{title:"\u83b9\u767d",color:"rgb(22,22,2)",bgColor:"rgba(227,249,253,.8)"},chabai:{title:"\u8336\u767d",color:"rgb(22,22,2)",bgColor:"rgba(243,249,241,.8)"},weilan:{title:"\u851a\u84dd",color:"rgb(22,22,2)",bgColor:"rgba(112,243,255,.9)"},zise:{title:"\u7d2b\u8272",color:"rgb(233, 241, 246)",bgColor:"rgba(141,75,187,.8)"},fense:{title:"\u7c89\u8272",color:"rgb(22,22,2)",bgColor:"rgba(255,179,167,.8)"},yanzhi:{title:"\u80ed\u8102\u8272",color:"rgb(233, 241, 246)",bgColor:"rgba(157,41,51,.8)"},tong:{title:"\u5f64\u8272",color:"rgb(233, 241, 246)",bgColor:"rgba(243,83,54,.8)"},yanhong:{title:"\u6bb7\u7ea2",color:"rgb(233, 241, 246)",bgColor:"rgba(190,0,47,.8)"}},N=function(){var e=Object.keys(z);return e[Math.floor(Math.random()*e.length)]},T={linear:{title:"\u5300\u901f"},ease:{title:"\u6162-\u5feb-\u6162"},"ease-out":{title:"\u5feb-\u6162"},"ease-in":{title:"\u6162-\u5feb"},"cubic-bezier(0.2,0.4,0.8,2)":{title:"cubic-bezier"},"steps(10, end)":{title:"\u6b65\u8fdb"}},L=function(){var e=Object.keys(T);return e[Math.floor(Math.random()*e.length)]},A=function(){return P[Math.floor(Math.random()*P.length)].path};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(){var e=Object(m.a)(["\n  .opts {\n    z-index: 9999;\n    position: fixed;\n    width: 100%;\n    bottom: 0;\n    padding: 2rem 4rem;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    .input,\n    .sendBtn,\n    .dur,\n    .img {\n      border-radius: 0.5rem;\n      border: 1px solid #333;\n    }\n    .input,\n    .dur,\n    .img,\n    .theme {\n      padding: 0.5rem 0.8rem;\n      margin: 0 1rem;\n    }\n    .sendBtn {\n      cursor: pointer;\n      text-transform: uppercase;\n      color: #fff;\n      background: rgba(2, 2, 2, 0.4);\n      font-size: 1.5rem;\n      font-weight: bold;\n      padding: 0.4rem 0.6rem;\n      border: 2px solid #fff;\n    }\n    .demo {\n      text-transform: uppercase;\n      padding: 4px 8px;\n      font-size: 1.5rem;\n      font-weight: 800;\n      position: absolute;\n      top: 5px;\n      right: 5px;\n    }\n  }\n"]);return M=function(){return e},e}var H=g.default.section(M());function F(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),m=Object(l.a)(i,2),g=m[0],d=m[1],h=Object(a.useState)("random"),f=Object(l.a)(h,2),b=f[0],y=f[1],v=Object(a.useState)("random"),w=Object(l.a)(v,2),E=w[0],j=w[1],x=Object(a.useState)(20),O=Object(l.a)(x,2),C=O[0],k=O[1],M=Object(a.useState)("random"),F=Object(l.a)(M,2),I=F[0],D=F[1];Object(a.useEffect)((function(){var e=new S(".screen");r(e)}),[]);return o.a.createElement(H,null,o.a.createElement(s,{screen:n}),o.a.createElement(p.b,{className:"demo",target:"_blank",to:"/preview"},"preview"),o.a.createElement("div",{className:"opts"},o.a.createElement("select",{className:"img",value:I,onChange:function(e){var t=e.target.value;console.log({value:t}),D(t)}},o.a.createElement("option",{value:"random"},"\u5934\u50cf(\u9ed8\u8ba4\u968f\u673a)"),P.map((function(e){var t=e.title,n=e.path;return o.a.createElement("option",{key:n,value:n},t)}))),o.a.createElement("select",{className:"theme",value:b,onChange:function(e){var t=e.target.value;console.log({value:t}),y(t)}},o.a.createElement("option",{value:"random"},"\u4e3b\u9898\u8272(\u9ed8\u8ba4\u968f\u673a)"),Object.keys(z).map((function(e){return o.a.createElement("option",{key:e,value:e},z[e].title)}))),o.a.createElement("select",{className:"animateFun",value:E,onChange:function(e){var t=e.target.value;console.log({value:t}),j(t)}},o.a.createElement("option",{value:"random"},"\u8fd0\u52a8\u51fd\u6570(\u9ed8\u8ba4\u968f\u673a)"),Object.keys(T).map((function(e){return o.a.createElement("option",{key:e,value:e},T[e].title)}))),o.a.createElement("input",{className:"dur",value:C,onChange:function(e){var t=e.target.value;console.log({value:t}),k(t)},type:"number",placeholder:"\u65f6\u957f\uff08\u79d2\uff09"}),o.a.createElement("textarea",{rows:"4",className:"input",value:g,onChange:function(e){var t=e.target.value;console.log(t),d(t)},placeholder:"\u8f93\u5165\u5f39\u5e55\u5185\u5bb9"}),o.a.createElement("button",{className:"sendBtn",onClick:function(){if(console.log("current bullet",g),g){console.log("start send");var e="random"===E?L():E,t="random"===b?N():b,a="random"===I?A():I,o=z[t],r=o.color,i=o.bgColor,l={animateTimeFun:e,txt:g,duration:C,img:a,color:r,bgColor:i,loopCount:"infinite",ts:(new Date).getTime()};console.log({obj:l});var s=l.txt,m=l.img,p=Object(u.a)(l,["txt","img"]);n.push({msg:s,img:m},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p));var h=JSON.stringify(l);console.log({newV:h}),localStorage.setItem("BULLET",h),d("")}}},"\u53d1\u9001\u5f39\u5e55")))}var I=n(8),D=function(){return o.a.createElement(p.a,{basename:"/rc-bullets"},o.a.createElement(I.c,null,o.a.createElement(I.a,{path:"/",exact:!0,component:F}),o.a.createElement(I.a,{path:"/preview",component:s})))},R=n(36),Y=n.n(R);function J(){var e=Object(m.a)(["\n  ",'\n  *{\n    box-sizing:border-box;\n    user-select:none;\n    outline:none;\n    -webkit-text-size-adjust: none;\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n    color:#000;\n  }\n  html{\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family:"Fangzheng ZY", "Hiragino Sans GB", "Heiti SC", "Microsoft YaHei", "WenQuanYi Micro Hei";\n  }\n  body{\n    -webkit-overflow-scrolling: touch;\n    overflow:scroll;\n    margin:0 auto;\n    min-height:100vh;\n    position: relative;\n  }\n  #root{\n    min-height:100vh;\n    background-image:linear-gradient(135deg, rgb(96, 108, 136) 0%, rgb(63, 76, 107) 100%);\n  }\n\n  @media screen and (min-width: 320px){\n      html {\n          font-size: 12px;\n      }\n  }\n  @media screen and (min-width: 375px){\n      html {\n          font-size: 14px;\n      }\n  }\n  @media screen and (min-width: 480px){\n      html {\n          font-size: 20px;\n      }\n  }\n  @media screen and (min-width: 768px){\n      html {\n          font-size: 24px;\n      }\n  }\n']);return J=function(){return e},e}var Q=Object(g.createGlobalStyle)(J(),Y.a);i.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,null),o.a.createElement(D,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.f3263b50.chunk.js.map