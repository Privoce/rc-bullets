(this["webpackJsonprc-bullets-example"]=this["webpackJsonprc-bullets-example"]||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/avator.83885266.jpg"},42:function(e,t,n){e.exports=n(60)},60:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(26),i=n.n(r),l=n(6);function c(e){var t=e.screen,n=Object(a.useState)(!1),r=Object(l.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(!0),u=Object(l.a)(s,2),m=u[0],g=u[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{onClick:function(){i?t.resume():t.pause(),c(!i)}},i?"resume":"pause"),o.a.createElement("button",{onClick:function(){t.clear()}},"clear"),o.a.createElement("button",{onClick:function(){m?t.hide():t.show(),g(!m)}},m?"hide":"show"),o.a.createElement("section",{style:{height:"60vh"},className:"screen"}))}var s=n(27),u=n(28),m=n(12),g=n(10),b=n(13),d=n(1),p=n.n(d),f=n(14),h=n.n(f),y=n(29);function v(e){return(v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function e(t){if(t){var n=document.createElement("style");n.id="BULLET_ANIMATE",document.head.appendChild(n);var a=t.getBoundingClientRect().width,o="from { visibility: visible; transform: translateX(".concat(a,"px); }");n.sheet.insertRule("@keyframes barrage { ".concat(o," ").concat("to { visibility: visible; transform: translateX(-100%); }"," }"),0),window.onresize=function(){document.getElementById("BULLET_ANIMATE").remove(),e(t)}}},j=function(e){if(null!==(a=e)&&("function"===typeof a||"object"===v(a))){var t=e.msg,n=e.img;return p.a.createElement(p.a.Fragment,null,n&&p.a.createElement("p",{className:"head"},p.a.createElement("img",{src:n,alt:"msg head"})),p.a.createElement("p",{className:"msg"},t))}var a;throw Error("Invalid params")};function C(){var e,t,n=(e=["\n  padding: 8px 18px;\n  border: 2px solid #fff;\n  border-radius: 26px;\n  background-color: ",";\n  max-width: 40vw;\n  position: relative;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n  .msg {\n    font-size: 22px;\n    line-height: 1.4;\n    color: ",";\n  }\n  .head {\n    position: absolute;\n    left: -58px;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    border: 2px solid #eee;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);\n    img {\n      border-radius: 50%;\n      width: 100%;\n      height: 100%;\n    }\n    &:after {\n      position: absolute;\n      top: 50%;\n      right: -14px;\n      transform: translateY(-50%);\n      content: '';\n      display: block;\n      width: 8px;\n      height: 2px;\n      background: #fff;\n    }\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return C=function(){return n},n}var O=y.a.div(C(),(function(e){return e.bgColor}),(function(e){return e.color})),I={pauseOnHover:!0,loopCount:"infinite",duration:10,color:"#fff",bgColor:"rgba(2,2,2,.4)",animateTimeFun:"linear"},P=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,"target",null),E(this,"bullets",[]),E(this,"allPaused",!1),E(this,"allHide",!1),"string"===typeof t){if(this.target=document.querySelector(t),!this.target)throw new Error("The display target does not exist")}else{if(!(t instanceof HTMLElement))throw new Error("The display target of the barrage must be set");this.target=t}"static"===getComputedStyle(this.target).position&&(this.target.style.position="relative",this.target.style.overflow="hidden"),w(this.target)}var t,n,a;return t=e,(n=[{key:"push",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,a=Object.assign(I,n),o=a.duration,r=a.loopCount,i=a.animateTimeFun,l=a.pauseOnHover,c=a.color,s=a.bgColor,u=this.target.getBoundingClientRect(),m=u.height,g=document.createElement("div");g.id=(new Date).getTime(),this.target.appendChild(g),this.bullets.push(g),g.style.transitionProperty="opacity",g.style.transitionDuration="1s",g.style.cursor="pointer",g.style.position="absolute",g.style.left=0,g.style.zIndex=9,g.style.visibility="hidden",g.style.animationName="barrage",g.style.animationIterationCount=r,g.style.animationDuration="".concat(o,"s"),g.style.animationTimingFunction=i,g.style.willChange="transform",this.allHide&&(g.style.opacity=0),l&&(g.addEventListener("mouseenter",(function(){console.log("enter"),g.style.animationPlayState="paused"}),!1),g.addEventListener("mouseleave",(function(){console.log("leave"),t.allPaused||(g.style.animationPlayState="running")}),!1)),h.a.render(p.a.isValidElement(e)||"string"===typeof e?e:p.a.createElement(O,{color:c,bgColor:s},j(e)),g,(function(){var e=g.getBoundingClientRect().height;g.style.top=Math.random()*(m-e)+"px"})),g.addEventListener("animationend",(function(){t.bullets=t.bullets.filter((function(e){return e.id!==g.id})),h.a.unmountComponentAtNode(g),g.remove()}))}},{key:"pause",value:function(){this.allPaused=!0,this.bullets.forEach((function(e){e.style.animationPlayState="paused"}))}},{key:"resume",value:function(){this.allPaused=!1,this.bullets.forEach((function(e){e.style.animationPlayState="running"}))}},{key:"hide",value:function(){this.allHide=!0,this.bullets.forEach((function(e){e.style.opacity=0}))}},{key:"show",value:function(){this.allHide=!1,this.bullets.forEach((function(e){e.style.opacity=1}))}},{key:"clear",value:function(){this.bullets.forEach((function(e){h.a.unmountComponentAtNode(e),e.remove()}))}}])&&x(t.prototype,n),a&&x(t,a),e}(),S={yingbai:{color:"rgb(22,22,2)",bgColor:"rgba(227,249,253,.8)"},chabai:{color:"rgb(22,22,2)",bgColor:"rgba(243,249,241,.8)"},weilan:{color:"rgb(22,22,2)",bgColor:"rgba(112,243,255,.9)"},zise:{color:"rgb(233, 241, 246)",bgColor:"rgba(141,75,187,.8)"},fense:{color:"rgb(22,22,2)",bgColor:"rgba(255,179,167,.8)"},yanzhi:{color:"rgb(233, 241, 246)",bgColor:"rgba(157,41,51,.8)"},tong:{color:"rgb(233, 241, 246)",bgColor:"rgba(243,83,54,.8)"},yinhong:{color:"rgb(233, 241, 246)",bgColor:"rgba(190,0,47,.8)"}},k=function(){var e=Object.keys(S);return e[Math.floor(Math.random()*e.length)]},N=["linear","ease","ease-in-out","ease-out","ease-in","cubic-bezier(0.2,-2,0.8,2)","steps(10, end)"],z=n(32),B=n.n(z);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(){var e=Object(m.a)(["\n  .opts {\n    position: fixed;\n    width: 100%;\n    bottom: 0;\n    padding: 2rem 4rem;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    .input,\n    .sendBtn,\n    .dur,\n    .img {\n      border-radius: 0.5rem;\n      border: 1px solid #333;\n    }\n    .input,\n    .dur,\n    .img {\n      padding: 0.5rem 0.8rem;\n      margin-bottom: 2rem;\n    }\n    .sendBtn {\n      cursor: pointer;\n      text-transform: uppercase;\n      color: #fff;\n      background: rgba(2, 2, 2, 0.4);\n      font-size: 1.5rem;\n      font-weight: bold;\n      padding: 0.4rem 0.6rem;\n      border: 2px solid #fff;\n    }\n    .demo {\n      text-transform: uppercase;\n      padding: 4px 8px;\n      font-size: 1.5rem;\n      font-weight: 800;\n      position: absolute;\n      top: 5px;\n      right: 5px;\n    }\n  }\n"]);return M=function(){return e},e}var T=g.default.section(M());function H(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),m=Object(l.a)(i,2),g=m[0],d=m[1],p=Object(a.useState)("random"),f=Object(l.a)(p,2),h=f[0],y=f[1],v=Object(a.useState)("linear"),x=Object(l.a)(v,2),E=x[0],w=x[1],j=Object(a.useState)(20),C=Object(l.a)(j,2),O=C[0],I=C[1],z=Object(a.useState)(""),M=Object(l.a)(z,2),H=M[0],G=M[1];Object(a.useEffect)((function(){var e=new P(".screen");r(e)}),[]);return o.a.createElement(T,null,o.a.createElement(c,{screen:n}),o.a.createElement(b.b,{className:"demo",target:"_blank",to:"/preview"},"preview"),o.a.createElement("div",{className:"opts"},o.a.createElement("select",{className:"img",value:H,onChange:function(e){var t=e.target.value;console.log({value:t}),G(t)}},o.a.createElement("option",{value:""},"select head image"),o.a.createElement("option",{value:B.a},"girl"),o.a.createElement("option",{value:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K"},"react")),o.a.createElement("select",{className:"theme",value:h,onChange:function(e){var t=e.target.value;console.log({value:t}),y(t)}},o.a.createElement("option",{value:"random"},"random theme"),Object.keys(S).map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement("select",{className:"animateFun",value:E,onChange:function(e){var t=e.target.value;console.log({value:t}),w(t)}},N.map((function(e){return o.a.createElement("option",{key:e,value:e},e)}))),o.a.createElement("input",{className:"dur",value:O,onChange:function(e){var t=e.target.value;console.log({value:t}),I(t)},type:"number",placeholder:"duration"}),o.a.createElement("textarea",{rows:"4",className:"input",value:g,onChange:function(e){var t=e.target.value;console.log(t),d(t)},placeholder:"input bullet"}),o.a.createElement("button",{className:"sendBtn",onClick:function(){if(console.log("current bullet",g),g){console.log("start send");var e="random"==h?k():h,t=S[e],a=t.color,o=t.bgColor,r={animateTimeFun:E,txt:g,duration:O,img:H,color:a,bgColor:o,ts:(new Date).getTime()},i=r.txt,l=Object(u.a)(r,["txt"]),c=H?{msg:i,img:H}:i;n.push(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l));var m=JSON.stringify(r);console.log({newV:m}),localStorage.setItem("BULLET",m),d("")}}},"send")))}var G=n(8),L=function(){return o.a.createElement(b.a,{basename:"/rc-bullets"},o.a.createElement(G.c,null,o.a.createElement(G.a,{path:"/",exact:!0,component:H}),o.a.createElement(G.a,{path:"/preview",component:c})))},Z=n(37),F=n.n(Z);function D(){var e=Object(m.a)(["\n  ",'\n  *{\n    box-sizing:border-box;\n    user-select:none;\n    outline:none;\n    -webkit-text-size-adjust: none;\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n    color:#000;\n  }\n  html{\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family:"Fangzheng ZY", "Hiragino Sans GB", "Heiti SC", "Microsoft YaHei", "WenQuanYi Micro Hei";\n  }\n  body{\n    -webkit-overflow-scrolling: touch;\n    overflow:scroll;\n    margin:0 auto;\n    min-height:100vh;\n    position: relative;\n  }\n  #root{\n    min-height:100vh;\n    background-image:linear-gradient(135deg, rgb(96, 108, 136) 0%, rgb(63, 76, 107) 100%);\n  }\n\n  @media screen and (min-width: 320px){\n      html {\n          font-size: 12px;\n      }\n  }\n  @media screen and (min-width: 375px){\n      html {\n          font-size: 14px;\n      }\n  }\n  @media screen and (min-width: 480px){\n      html {\n          font-size: 20px;\n      }\n  }\n  @media screen and (min-width: 768px){\n      html {\n          font-size: 24px;\n      }\n  }\n']);return D=function(){return e},e}var Y=Object(g.createGlobalStyle)(D(),F.a);i.a.render(o.a.createElement(o.a.Fragment,null,o.a.createElement(Y,null),o.a.createElement(L,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.7999bae5.chunk.js.map